define("header-controller",[],function(){function e(e,t){function n(){t.init(),t.getHeaderDetails().then(function(){o.details=t.headerDetails})}var o=this;o.details=t.headerDetails,o.getAutocomplete=t.getAutocomplete,o.events=t.events,o.request=t.request,o.paths=t.paths,n()}return e.$inject=["$rootScope","headerService"],e}),define("header-service",[],function(){"use strict";function e(e,t,n,o,i,r){function s(){i.init(),o.init(),a()}function a(){e.$on(n.events.onSessionUpdate,function(e){f()})}function c(t){g.headerDetails.active=t,e.$broadcast("app.layout.headerActive",t)}function u(){function e(){return l?l.promise:n()}function n(){return l=t.defer(),f(),l.resolve(),l.promise}return e()}function f(){var e=n.get();e?g.headerDetails.userDetails=e?{displayName:e.name}:null:g.headerDetails.hasOwnProperty("userDetails")&&g.headerDetails.userDetails&&delete g.headerDetails.userDetails}var g,l;return g={init:s,headerDetails:{active:!1,userDetails:null},setHeaderActive:c,getHeaderDetails:u,getAutocomplete:i.getAutocomplete,formatAutoCompleteItemLabel:i.formatSearchedItemsLabel,events:{onAutocompleteItemClick:i.autocompleteItemAction},request:i.request,paths:{portalLogo:r.getPath("images.portal-logo"),searchLoader:r.getPath("images.search-loader"),autocompleteHtml:r.getPath("layout.header.autocomplete.autocomplete-html")}}}return e.$inject=["$rootScope","$q","session","userImageService","headerAutocompleteService","pathService"],e}),define("header-autocomplete-service",[],function(){"use strict";function e(e,t,n,o,i,r,s){function a(){c()}function c(){n.$on(r.events.onSessionUpdate,function(e,t){r.exist()||u()})}function u(){m={}}function f(e,t){var n=e;return null!==t&&(n+=t.id),m.hasOwnProperty(n)?m[n].promise:g(e,t,n)}function g(t,n,s){function a(e){function t(e){o.push({name:e.category_name,category_id:e.category_id,category_path:e.category_name.toLowerCase().replace(" ","-")})}function n(e,t){o.push({name:e.course_name+"  in  ",category_name:e.category_name,course_name:e.course_name,category_id:e.category_id,course_id:e.course_id,firstInSet:0===t,project_path:""})}var o=[];if(0===e.length)return o.push({noMatchingResults:!0}),o;for(var i=0,r=0;r<e.length;r++)null===e[r].course_id?t(e[r]):(n(e[r],i),i++);return o}function c(e){v.request.fetchingAutocompleteSearchResult=!1,delete m[s],u.reject()}v.request.fetchingAutocompleteSearchResult=!0;var u=(r.get(),e.defer());return m[s]=u,o.getAutoCompleteSearchResult({keyword:t,categoryId:n?n.id:0}).$promise.then(function(e){v.request.fetchingAutocompleteSearchResult=!1,e=i.processData(e),u.resolve(a(e))},c),u.promise}function l(e){e.hasOwnProperty("project_path")&&t.go("root.project-details",{projectId:e.course_id}),e.hasOwnProperty("category_path")&&t.go("root.projects").then(function(){s.emitEvent({eventName:v.events.onCategoryClick,details:{categoryId:e.category_id}})})}function d(e,t){if(e)return e.hasOwnProperty(t)?e[t]:e.name}var v,m={};return v={init:a,getAutocomplete:f,autocompleteItemAction:l,clearAutocompleteCache:u,formatSearchedItemsLabel:d,request:{fetchingAutocompleteSearchResult:!1},events:{onCategoryClick:"autoComplete.onCategoryClick:navigate"}}}return e.$inject=["$q","$state","$rootScope","rest","restMiddleware","session","eventService"],e}),define("header-autocomplete-category-directive",[],function(){function e(e,t){function n(e,t,n,o){}function o(t,n){function o(){f(),c()}function i(){l.toggleBtn=!l.toggleBtn,a()}function r(e){e.displayName=e.name.length>d?e.name.substring(0,d)+"...":e.name,l.toggleBtn=!1,l.selectedCategory=e,c(),u()}function s(){l.selectedCategory=null,c(),u()}function a(){l.fetchingCategories=!0,e.getBaseParentCategories().then(function(e){l.fetchingCategories=!1,l.categories=e},function(){l.fetchingCategories=!1})}function c(){var e,t,n;l.selectedCategory?(e=20+l.selectedCategory.name.length,e<v?l.autocompletePlaceholder="Search for "+l.selectedCategory.name+" projects":(t=v-20,n=l.selectedCategory.name.substring(0,t),l.autocompletePlaceholder="Search for "+n+"... projects")):l.autocompletePlaceholder="What would you like to build?"}function u(){var e=document.getElementById("header-autocomplete");e.focus()}function f(){g()}function g(){n.bind("click",function(e){if(l.toggleBtn===!0){var o,i=e.target;o=i.parentElement?i.parentElement.classList:i.getAttribute("class"),o.contains("autocomplete-category-btn")||o.contains("autocomplete-input-group")||!n.find(".autocomplete-category-box").is(":visible")||(l.toggleBtn=!1,t.$apply())}})}var l=this,d=12,v=32;l.toggleBtn=!1,l.fetchingCategories=!1,l.displayCategories=i,l.changeCategory=r,l.removeSelectedCategory=s,l.selectedCategory=null,l.autocompleteCategory="",o()}return o.$inject=["$scope","$document"],{restrict:"E",link:n,templateUrl:t.getPath("header-autocomplete-category"),controller:o,controllerAs:"autocompleteCategory"}}return e.$inject=["projectCategoryService","pathService"],e}),define("notification-service",[],function(){function e(e,t,n,o,i,r){function s(){l()}function a(){function e(){if(h){if(h.exist())return h;h.recreatePromise()}else h=r.createPromise();return o()}function o(){return t.getNotificationCount().$promise.then(function(e){e=n.processData(e),v.notificationCount=parseInt(e[0].count),h.resolve()},function(e){h&&(h.reject(),h.destroy())}),h}return e()}function c(){function e(){if(m){if(m.exist())return m;m.recreatePromise()}else m=r.createPromise();return o()}function o(){return t.getNotifications().$promise.then(function(e){e=n.processData(e),u(e),m.resolve()},function(e){var t=n.processError(e);m&&(m.reject(t),m.destroy())}),m}return e()}function u(e){for(var t=0;t<e.length;t++){var n=1===parseInt(e[t].notification_status),i=JSON.parse(e[t].notification_text),r=g(i);v.notifications.push({id:parseInt(e[t].id),userId:parseInt(e[t].user_id),notificationStatus:n,notificationText:i,createdAt:o.getLocalMediumDateByTimestamp(null,e[t].created_on),expiredAt:o.getLocalMediumDateByTimestamp(null,e[t].expires_on),actionText:r})}}function f(e){function o(){if(p.hasOwnProperty(e)){if(p[e].exist())return p[e];p[e].recreatePromise()}else p[e]=r.createPromise();return s()}function s(){return e=parseInt(e),t.updateNotificationStatus([{name:"id",value:e},{name:"status",value:1}]).$promise.then(function(t){return t=n.processData(t),0===parseInt(t[0].error)?(v.notificationCount-=1,i.emitEvent({eventName:v.events.onNotificationCountUpdate,details:{notificationCount:v.notificationCount}}),p[e].resolve()):(p[e].reject(),void p[e].destroy())},function(t){p[e]&&(p[e].reject(),p[e].destroy())}),p[e]}return o()}function g(e){var t;switch(e.type){case"verification project request":t="project verification request";break;case"room created":t="Join chat"}return t}function l(){function t(e,t){d()}i.listenEvent({componentName:"notifications",eventName:e.events.onSessionUpdate,eventCallback:t})}function d(){h.destroy(),m&&m.destroy(),p={},v.notifications=[],v.notificationCount=0}var v,m=null,h=null,p={};return v={init:s,notificationCount:0,notifications:[],getNotificationCount:a,getNotifications:c,updateNotificationStatus:f,events:{onNotificationCountUpdate:"app.notifications.count:update",onNotificationStatusUpdate:"app.notifications.status:update"}}}return e.$inject=["session","rest","restMiddleware","dateService","eventService","promiseService"],e}),define("header-notification-directive",[],function(){function e(e,t,n){function o(n,o,i){e.bind("click",function(e){var o,i=t.getNotificationToggleStatus(),r=e.target;i===!0&&(o=r.parentElement?r.parentElement.classList:r.classList,o.contains("notification-icon")||o.contains("notification-count")||i!==!0||(t.toggleNotification(!1),n.$apply()))})}return{restrict:"E",templateUrl:n.getPath("layout.header.notification.header-notification-html"),link:o,controller:"HeaderNotificationController",controllerAs:"notification"}}return e.$inject=["$document","headerNotificationService","pathService"],e}),define("header-notification-controller",[],function(){function e(e,t,n,o){function i(){t.init(),r(),a()}function r(){t.getNotificationCount().then(function(){d.notificationCount=n.notificationCount})}function s(){d.errors.notifications=null,f(),t.getNotifications().then(function(){d.notifications=t.notifications},function(e){d.errors.notifications=e})}function a(){d.events.getNotifications=s,d.events.reloadNotifications=u,d.events.toggleNotifications=f,d.events.notificationAction=c,o.listenEvent({componentName:"notificationCount",eventName:n.events.onNotificationCountUpdate,eventCallback:l}),g()}function c(e,n){t.notificationAction(e,n)}function u(){d.errors.notifications=null,f(),s()}function f(){t.toggleNotification()}function g(){e.$on(t.events.onNotificationToggleStatusUpdate,function(e,t){d.notificationToggleStatus=t})}function l(e,t){d.notificationCount=t.notificationCount}var d=this;d.notifications=n.notifications,d.notificationCount=n.notificationCount,d.request=t.request,d.notificationToggleStatus=t.getNotificationToggleStatus(),d.events={},d.errors={notifications:null},d.messages=t.messages,d.paths=t.paths,d.ajaxLoaderNotificationDetails={msg:d.messages.loadingNotifications,loaderImg:d.paths.ajaxLoaderImg},i()}return e.$inject=["$scope","headerNotificationService","notificationService","eventService"],e}),define("header-notification-service",[],function(){function e(e,t,n,o,i,r,s,a){function c(){o.init(),m()}function u(){function t(){var t=e.defer();return o.getNotificationCount().then(function(){t.resolve()},function(){t.reject()}),t.promise}return t()}function f(){function t(){function t(e){var t={error:!0,msg:""};switch(e.code){default:t.msg=r.getComponentMessages("headerNotifications").getMessage("fetchingFailed")}return t}var n=e.defer();return C.request.fetchingNotifications=!0,o.getNotifications().then(function(){C.request.fetchingNotifications=!1,0===o.notifications.length&&(C.request.dataNotFound=!0),C.notifications=o.notifications,n.resolve()},function(e){C.request.fetchingNotifications=!1,n.reject(t(e)),n=null}),n.promise}return t()}function g(e,t){var o=t.notificationText;switch(o.type){case"verification project request":n.go("root.evaluation",{projectId:o.details.course_id,verificationRequestId:o.details.vreq_id});break;case"room created":n.go("root.room",{roomName:o.details.room_name})}t.notificationStatus===!1&&(l(t.id),C.notifications[e].notificationStatus=!0)}function l(t){function n(){var n=e.defer();return o.updateNotificationStatus(t).then(function(){n.resolve()},function(){n.reject(),n=null}),n.promise}return n()}function d(e){return e=e||!M,M=e,t.$broadcast(C.events.onNotificationToggleStatusUpdate,e),e}function v(){return M}function m(){function e(e,t){p()}a.listenEvent({componentName:"headerNotifications",eventName:i.events.onSessionUpdate,eventCallback:e})}function h(){return{fetchingNotifications:!1,dataNotFound:!1}}function p(){C.request=h()}var C,M=!1;return C={init:c,getNotificationCount:u,getNotifications:f,notifications:[],notificationAction:g,toggleNotification:d,request:h(),events:{onNotificationToggleStatusUpdate:"app.notification.toogleStatus.update"},paths:{ajaxLoaderImg:s.getPath("images.content-loader"),notificationRetryTemplate:s.getPath("headerNotification.notification-retry-template")},messages:r.getComponentMessages("headerNotifications"),getNotificationToggleStatus:v}}return e.$inject=["$q","$rootScope","$state","notificationService","session","messageService","pathService","eventService"],e}),define("header-inbox-service",[],function(){function e(e,t,n,o,i){function r(){n.init()}function s(){function t(){var t=e.defer();return n.getUnreadConversationMessagesCount().then(function(){t.resolve()},function(e){t.reject()}),t.promise}return t()}function a(){function t(){function t(e){var t={error:!0,msg:""};switch(e.code){default:t.msg=o.getComponentMessages("headerInboxMessages").getMessage("fetchingFailed")}return t}var i=e.defer();return f.request.dataNotFound=!1,f.request.fetchingUnreadConversationMessages=!0,n.getUnreadConversationMessages().then(function(){f.request.fetchingUnreadConversationMessages=!1,0===n.unreadConversationMessages.length&&(f.request.dataNotFound=!0),i.resolve()},function(e){f.request.fetchingUnreadConversationMessages=!1,i.reject(t(e))}),i.promise}return t()}function c(e){return e=e||!g,g=e,t.$broadcast(this.events.onInboxToggleStatusUpdate,e),e}function u(){return g}var f,g;return f={init:r,getUnreadConversationMessagesCount:s,getUnreadConversationMessages:a,getInboxToggleStatus:u,toggleInbox:c,messages:o.getComponentMessages("headerInboxMessages"),request:{fetchingUnreadConversationMessages:!1,dataNotFound:!1},paths:{ajaxLoaderImg:i.getPath("images.content-loader"),inboxRetryTemplate:i.getPath("headerInbox.inbox-retry-template")},events:{onInboxToggleStatusUpdate:"app.inbox.toggleStatus.update"}}}return e.$inject=["$q","$rootScope","inboxService","messageService","pathService"],e}),define("header-inbox-directive",[],function(){function e(e,t,n){function o(n){e.bind("click",function(e){var o,i=t.getInboxToggleStatus(),r=e.target;i===!0&&(o=r.parentElement?r.parentElement.classList:r.classList,o.contains("inbox-icon")||o.contains("inbox-count")||i!==!0||(t.toggleInbox(!1),n.$apply()))})}return{restrict:"E",templateUrl:n.getPath("layout.header.inbox.header-inbox-html"),link:o,controller:"HeaderInboxController",controllerAs:"inbox"}}return e.$inject=["$document","headerInboxService","pathService"],e}),define("header-inbox-controller",[],function(){function e(e,t,n,o,i){function r(){n.init(),s(),c()}function s(){n.getUnreadConversationMessagesCount().then(function(){d.unreadMessagesCount=i.unreadConversationMessagesCount})}function a(){f(),d.errors.unreadConversationMessages=null,n.getUnreadConversationMessages().then(function(){d.unreadMessages=i.unreadConversationMessages},function(e){d.errors.unreadConversationMessages=e})}function c(){d.events.getUnreadConversationMessages=a,d.events.toggleInbox=f,d.events.reloadUnreadMessages=u,d.events.readMessage=l,g()}function u(){d.errors.unreadConversationMessages=null,f(),a()}function f(){n.toggleInbox()}function g(){e.$on(n.events.onInboxToggleStatusUpdate,function(e,t){d.inboxToggleStatus=t})}function l(e){o.setActiveConversation(e.id),t.go("root.dashboard.account.inbox")}var d=this;d.messages=n.messages,d.unreadMessagesCount=i.unreadConversationMessagesCount,d.unreadMessages=i.unreadConversationMessages,d.request=n.request,d.inboxToggleStatus=n.getInboxToggleStatus(),d.events={},d.paths=n.paths,d.ajaxLoaderinboxDetails={msg:d.messages.loadingUnreadMessages,loaderImg:d.paths.ajaxLoaderImg},d.errors={unreadConversationMessages:null},r(),e.$watch(function(){return i.unreadConversationMessagesCount},function(e){d.unreadMessagesCount=e})}return e.$inject=["$scope","$state","headerInboxService","accountInboxService","inboxService"],e}),define("inbox-service",[],function(){function e(e,t,n,o,i,r,s){function a(){v()}function c(e,o){function i(){return _=s.createPromise(),e=e||o.conversation_id,t.addConversationMessage({conversation_id:e,message:o.message,to_users:o.to_users,display_output:!0}).$promise.then(function(e){return e=n.processData(e),e[0].error===!0?_.reject():void _.resolve(e)},function(e){var t=n.processError(e);_&&(_.reject(t),_.destroy())}),_}return i()}function u(){function e(){if(C){if(C.exist())return C;C.recreatePromise()}else C=s.createPromise();return i()}function i(){return t.getUnreadConversationMessages().$promise.then(function(e){e=n.processData(e);for(var t=0;t<e.length;t++)h.unreadConversationMessages.push(d(e[t])),function(t){o.getUserImageUrl({folderName:e[t].folder_name,fileName:e[t].user_image}).then(function(e){h.unreadConversationMessages[t].user.userActualimage=e})}(t);C.resolve()},function(e){var t=n.processError(e);C&&(C.reject(t),C.destroy())}),C}return e()}function f(){function e(){if(p){if(p.exist())return p;p.recreatePromise()}else p=s.createPromise();return o()}function o(){return t.getUnreadConversationMessagesCount().$promise.then(function(e){e=n.processData(e),h.unreadConversationMessagesCount=parseInt(e[0].count),p.resolve()},function(e){p&&(p.reject(),p.destroy())}),p}return e()}function g(e){function o(){if(y.hasOwnProperty(e)){if(y[e].exist())return y[e];y[e].recreatePromise()}else y[e]=s.createPromise();return i()}function i(){return t.getConversationMessages({conversation_id:e,is_read:!0}).$promise.then(function(t){t=n.processData(t),y[e].resolve(t)},function(t){var o=n.processError(t);y[e].reject(o),y[e].destroy()}),y[e]}return o()}function l(){function e(){if(M){if(M.exist())return M;M.recreatePromise()}else M=s.createPromise();return o()}function o(){return t.getUserConversations().$promise.then(function(e){e=n.processData(e),M.resolve(e)},function(e){var t=n.processError(e);M&&(M.reject(t),M.destroy())}),M}return e()}function d(e){var t=e.created_at,n=i.invokeTimeZoneMethod("UTC","getLocalCustomDateTimeByTimestamp")(t);return{id:parseInt(e.conversation_id),subject:e.subject,date:n,unread_message_cnt:e.unread_message_cnt,message:e.message,user:{id:e.from_user_id,name:e.from_user_name,userActualimage:"",userDefaultImage:o.getUserDefaultImageUrl()}}}function v(){function t(e,t){m()}r.listenEvent({componentName:"inbox",eventName:e.events.onSessionUpdate,eventCallback:t})}function m(){p.destroy(),C&&C.destroy(),M&&M.destroy(),_&&_.destroy(),y={},h.unreadConversationMessages=[],h.unreadConversationMessagesCount=0}var h,p=null,C=null,M=null,_=null,y={};return h={init:a,unreadConversationMessages:[],unreadConversationMessagesCount:0,getUserConversations:l,getConversationMessages:g,getUnreadConversationMessagesCount:f,getUnreadConversationMessages:u,addConversationMessage:c}}return e.$inject=["session","rest","restMiddleware","userImageService","dateService","eventService","promiseService"],e}),define("account-inbox-service",[],function(){function e(e,t,n,o,i,r,s,a){function c(){t.init(),C()}function u(){function n(){var n=e.defer();return y.request.fetchingUserConversations=!0,t.getUserConversations().then(function(e){if(y.request.fetchingUserConversations=!1,0===y.userConversations.length)for(var t=0;t<e.length;t++)y.userConversations.push(r(e[t]));y.activeConversation.id&&y.openConversation(y.activeConversation.id),n.resolve()},function(e){y.request.fetchingUserConversations=!1,n.reject(o(e))}),n.promise}function o(e){var t={error:!0,msg:""};switch(e.code){default:t.msg=i.getComponentMessages("accountInboxMessages").getMessage("userConversationsFetchFail")}return t}function r(e){var t=e.created_at,n=s.invokeTimeZoneMethod("UTC","getLocalCustomDateTimeByTimestamp")(t);return{id:parseInt(e.conversation_id),subject:e.subject,date:n,unread_message_cnt:e.unread_message_cnt,message:e.message,user:{id:e.from_user_id,name:e.from_user_name},userImageDetails:{folderName:e.folder_name,fileName:e.user_image}}}return n()}function f(n){function r(){var t=e.defer();return y.activeConversation.id===n&&y.activeConversation.messages.length>0?(y.closeConversation(),t.promise):(y.activeConversation.id=n,y.conversationMessages.hasOwnProperty(n)?(a(),t.resolve(),o.scrollToBottom("inbox-conversation-message")):y.getConversationMessages(n).then(function(){a(),t.resolve(),o.scrollToBottom("inbox-conversation-message")},function(e){t.reject(s(e))}),t.promise)}function s(e){var t={error:!0,msg:""};switch(e.code){default:t.msg=i.getComponentMessages("accountInboxMessages").getMessage("conversationMessagesFetchFail")}return t}function a(){for(var e=0;e<y.userConversations.length;e++)if(y.userConversations[e].id===n&&y.userConversations[e].unread_message_cnt>0){t.unreadConversationMessagesCount-=y.userConversations[e].unread_message_cnt,y.userConversations[e].unread_message_cnt=0;break}for(var e=0;e<t.unreadConversationMessages.length;e++)if(t.unreadConversationMessages[e].id===n){t.unreadConversationMessages.splice(e,1);break}y.activeConversation.messages=Object.create(y.conversationMessages[n])}return r()}function g(n){function o(){var o=e.defer();return y.request.fetchingConversationMessages=!0,t.getConversationMessages(n).then(function(e){y.request.fetchingConversationMessages=!1;var t;e.length>0&&(t=e[0].conversation_id,y.conversationMessages[t]=[]);for(var n=0;n<e.length;n++)y.conversationMessages[t].push(h(e[n]));o.resolve()},function(e){y.request.fetchingConversationMessages=!1,o.reject(e)}),o.promise}return o()}function l(){y.activeConversation.messages.length>0&&(y.activeConversation.id="",y.activeConversation.messages.splice(0,y.activeConversation.messages.length))}function d(o,i){function r(){function r(e){y.conversationMessages[e.conversation_id].push(h({conversation_id:e.conversation_id,message:e.message,from_user_id:a.id,from_user_name:a.display_name}))}var s=e.defer();if(""===i.message)return s.reject(),s.promise;var a=n.get();return y.request.savingConversationMessage=!0,t.addConversationMessage(o,i).then(function(e){y.request.savingConversationMessage=!1,r(e[0]),s.resolve()},function(e){y.request.savingConversationMessage=!1,s.reject()}),s.promise}return r()}function v(e){if(""===e)return void toastr.error(i.getComponentMessages("accountInboxMessages").getMessage("emptySendMessage"));if(y.activeConversation.messages.length>0){var t=y.activeConversation.id,n={conversation_id:t,message:e,to_users:""};y.addConversationMessage(null,n).then(function(){o.scrollToBottom("inbox-conversation-message")},function(){toastr.error(i.getComponentMessages("accountInboxMessages").getMessage("somethingWentsWrong"))})}}function m(e){y.activeConversation.id=e,y.activeConversation.messages=[];for(var t=0;t<y.userConversations.length;t++)if(y.userConversations[t].id===e){y.openConversation(e);break}}function h(e){var t=n.get();if(void 0!==e.created_at)var o=e.created_at;else var o=p(s.getCurrentDate());var i=s.invokeTimeZoneMethod("UTC","getLocalCustomDateTimeByTimestamp")(o);return{is_session_user:parseInt(e.from_user_id)===t.id,conversation_id:parseInt(e.conversation_id),date:i,message:e.message,user:{id:e.from_user_id,name:e.from_user_name}}}function p(e){return e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}function C(){function e(e,t){_()}a.listenEvent({componentName:"accountInbox",eventName:n.events.onSessionUpdate,eventCallback:e})}function M(){return{fetchingUserConversations:!1,fetchingConversationMessages:!1,savingConversationMessage:!1}}function _(){y.userConversations=[],y.conversationMessages={},y.request=M()}var y;return y={init:c,userConversations:[],conversationMessages:{},getUserConversations:u,getConversationMessages:g,addConversationMessage:d,openConversation:f,closeConversation:l,setActiveConversation:m,sendMessage:v,activeConversation:{id:"",messages:[]},request:M(),messages:i.getComponentMessages("accountInboxMessages")}}return e.$inject=["$q","inboxService","session","scrollService","messageService","userImageService","dateService","eventService"],e}),define("project-category-service",[],function(){function e(e,t,n,o){function i(){function i(){return g?g.promise:r()}function r(){function i(e){var t={error:!0,msg:""};switch(e.code){default:t.msg=o.getComponentMessages("projects").getMessage("categoriesFetchFail")}return t}return f.request.fetchingCategories=!0,g=e.defer(),t.getCategories([]).$promise.then(function(e){f.request.fetchingCategories=!1,e=n.processData(e),g.resolve(s(a(e)))},function r(e){f.request.fetchingCategories=!1;var r=n.processError(e);g.reject(i(r)),g=null}),g.promise}function s(e){return e.unshift(f.getDefaultCategory()),e}function a(e){for(var t,n=[],o=[],i=0;i<e.length;i++)t=e[i].base_parent_id,o.indexOf(t)===-1?(o.push(t),n.push({id:t,name:e[i].base_parent_name,isBaseParent:!0,path:e[i].base_parent_name+"/",level:e[i].level,parent_id:e[i].parent_id,child_id:e[i].child_id})):c(e[i],n);return n}function c(e,t){var n=e.level,o=t.length-1;t[o].hasOwnProperty("childs")?1===parseInt(n)?t[o].childs.push({id:e.child_id,name:e.child,path:t[o].path+e.child+"/"}):u(t[o].childs,e,2):t[o].childs=[{id:e.child_id,name:e.child,path:t[o].path+e.child+"/"}]}function u(e,t,n){if(0===!e.length)return null;if(parseInt(t.level)===n){for(var o=0;o<e.length;o++)e[o].id===t.parent_id&&(e[o].hasOwnProperty("childs")?e[o].childs.push({id:t.child_id,name:t.child,path:e[o].path+t.child+"/"}):e[o].childs=[{id:t.child_id,name:t.child,path:e[o].path+t.child+"/"}]);return null}n+=1;for(var o=0;o<e.length;o++)e[o].hasOwnProperty("childs")&&u(e[o].childs,t,n)}return i()}function r(){var t=e.defer();return i().then(function(e){for(var n=[],o=0;o<e.length;o++)e[o].hasOwnProperty("isBaseParent")&&e[o].isBaseParent===!0&&n.push(e[o]);t.resolve(n)},t.reject),t.promise}function s(){return{id:0,name:"All Categories",isDefault:!0}}function a(t){var n=e.defer();return t=t.replace(/^\/+|\/$/,""),this.getCategories().then(function(e){var o=t.split("/");0===o.length&&n.resolve(null);var i=c(o[0],e);return i?(o.splice(0,1),0===o.length?void n.resolve(i):(o.splice(0,1),void n.resolve(u(0,o,i)))):void n.resolve(null)},n.reject),n.promise}function c(e,t){for(var n=0;n<t.length;n++)if(t[n].name.toLowerCase()===e.toLowerCase())return t[n];return null}function u(e,t,n){if(e>t.length)return n;var o=t[e];if(n&&n.hasOwnProperty("childs")){for(var i=0;i<n.length;i++)n[i].name.toLowerCase()===o.toLowerCase()&&(e+=1,u(e,t,n[i]));return null}return null}var f,g;return f={getCategories:i,getBaseParentCategories:r,getDefaultCategory:s,checkIfCategoryPathExist:a,request:{fetchingCategories:!1}}}return e.$inject=["$q","rest","restMiddleware","messageService"],e}),define("app/layout/header/header.runtime.js",["header-controller","header-service","header-autocomplete-service","header-autocomplete-category-directive","notification-service","header-notification-directive","header-notification-controller","header-notification-service","header-inbox-service","header-inbox-directive","header-inbox-controller","inbox-service","account-inbox-service","project-category-service"],function(e,t,n,o,i,r,s,a,c,u,f,g,l,d){return{HeaderController:e,headerService:t,headerAutocompleteService:n,headerAutocompleteCategoryDirective:o,notificationService:i,headerNotificationDirective:r,HeaderNotificationController:s,headerNotificationService:a,headerInboxService:c,headerInboxDirective:u,HeaderInboxController:f,projectCategoryService:d,inboxService:g,accountInboxService:l}},function(e){console.log(e)});